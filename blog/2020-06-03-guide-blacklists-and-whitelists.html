<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Yetibot: Guide: Blacklists and Whitelists</title>
    <link rel="canonical" href="https://yetibot.com/blog/2020-06-03-guide-blacklists-and-whitelists">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/css/main.css" rel="stylesheet" type="text/css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/img/favicon/favicon.ico">

    
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yetibot.com/blog/2020-06-03-guide-blacklists-and-whitelists" />
    <meta property="og:title" content="Yetibot: Guide: Blacklists and Whitelists" />
    <meta property="og:description"
      content="Locking down your Yeti with blacklists and whitelists" />
    <meta property="og:image"
      content="https://yetibot.com/img/yetibot_logo.svg"
    />
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:domain" value="yetibot.com" />
    <meta name="twitter:title" value="Yetibot: Guide: Blacklists and Whitelists" />
    <meta name="twitter:description"
      value="Locking down your Yeti with blacklists and whitelists"
    />
    <meta name="twitter:image"
      content="https://yetibot.com/img/yetibot_logo.svg"
    />
    <meta name="twitter:url" value="https://yetibot.com/blog/2020-06-03-guide-blacklists-and-whitelists" />
    
      <meta name="twitter:creator" value="@devth" />
    
    
    <meta name="twitter:label1" value="Date" />
    <meta name="twitter:data1" value="June 3, 2020" />
    <meta name="twitter:label2" value="Tags" />
    <meta name="twitter:data2"
      value="ops guide 2020 "
    />
    

    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117101667-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-117101667-1');
    </script>
  </head>
  <body class="home">


    <div class="main-content">
      <nav class="navbar is-black" role="navigation" aria-label="main navigation">
        <div class="container">
          <div class="navbar-brand">
            <a class="navbar-item" href="/">
              <img class="nav-logo" src="/img/yetibot_lambda_blue_with_grey.svg"
                                    alt="Yetibot: A powerful, expressive chatops platform written in Clojure."
                                    />
            </a>

            <div class="navbar-burger" data-target="nav-menu">
              <span></span>
              <span></span>
              <span></span>
            </div>

          </div>
          <div class="navbar-menu" id="nav-menu">
            <div class="navbar-start">

              
              <a href="/user-guide"
                class="navbar-item is-tab
                ">
                User Guide
              </a>
              
              <a href="/dev-guide"
                class="navbar-item is-tab
                ">
                Dev Guide
              </a>
              
              <a href="/ops-guide"
                class="navbar-item is-tab
                ">
                Ops Guide
              </a>
              
              <a href="/community"
                class="navbar-item is-tab
                ">
                Community
              </a>
              
              <a href="/media"
                class="navbar-item is-tab
                ">
                Media
              </a>
              

              <a class="navbar-item is-tab
                " href="/archives">
                Blog
              </a>
            </div>
            <div class="navbar-end">

              <a href="https://twitter.com/yetibot_chatops"
                 title="Yetibot on Twitter"
                 class="navbar-item">
                <span class="icon">
                  <i class="fab fa-twitter"></i>
                </span>
              </a>
              <a href="https://github.com/yetibot/yetibot"
                 title="Yetibot on GitHub"
                 class="navbar-item">
                <span class="icon">
                  <i class="fab fa-github"></i>
                </span>
              </a>
              <a class="navbar-item"
                 title="Yetibot Slack"
                 href="https://slack.yetibot.com">
                <span class="icon">
                  <i class="fab fa-slack"></i>
                </span>
              </a>

            </div>
          </div>
        </div>
      </nav>

      

<div id="post">
  <article class="page-title hero is-dark is-bold is-fullwidth">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">Guide: Blacklists and Whitelists</h1>
      <p class="subtitle">
        June 3, 2020
        
          <span>by
            <a href="/authors/@devth">@devth</a>
          </span>
        
      </p>
    </div>
  </div>
</article>

<section class="section content">
  <div class="container">

    <div class="main main-content columns">
      <div class="column is-two-thirds">
        <p>Yetibot exposes a plethora of commands ranging from <code>weather</code> and <code>wolfram</code> lookups to <code>meme</code> generation to <code>stock</code> prices to simple text manipulation and much more. Some operators may not want to expose the full range of Yetibot capabilities to their users, whether for security, or simplicity, or other reasons.</p><p><figure>   <img src="/img/screenshots/help.png" alt="help" />   <figcaption><code>!help</code> on a Yetibot with many aliases and all commands enabled </figcaption> </figure></p><p>Now operators can intentionally expose any subset of Yetibot that they'd like via config. Thanks to <a href='https://github.com/gkspranger'>@gkspranger</a> for helping us work through this by providing lots of thoughtful feedback and feature requests! PRs that enabled these changes are:</p><ul><li><a href='https://github.com/yetibot/yetibot.core/pull/140'>Allow configurable fallback help text #140</a></li><li><a href='https://github.com/yetibot/yetibot.core/pull/138'>Exclude aliases from white and black lists #138</a></li><li><a href='https://github.com/yetibot/yetibot.core/pull/137'>Fallback to default command handling when a command is disabled #137</a></li><li><a href='https://github.com/yetibot/yetibot.core/pull/135'>Exclude help from white black lists #135</a></li><li><a href='https://github.com/yetibot/yetibot.core/pull/133'>Add command whitelist/blacklist support #133</a></li></ul><h2 id="configuration">Configuration</h2><p>When whitelist is configured, all commands are disabled except those present in the <code>whitelist</code> collection, plus any foundational commands. Example config:</p><pre><code class="clojure">:yetibot-command-whitelist-0 &quot;echo&quot;
:yetibot-command-whitelist-1 &quot;list&quot;
</code></pre><p><figure>   <img src="/img/screenshots/help-whitelist.png" alt="help" />   <figcaption><code>!help</code> on a Yetibot with a whitelist allowing only <code>echo</code> and <code>list</code></figcaption> </figure></p><p>When blacklist is configured, all commands are enabled except those present in the <code>blacklist</code> collection, plus any foundational commands. Example config:</p><pre><code class="clojure">:yetibot-command-blacklist-0 &quot;echo&quot;
:yetibot-command-blacklist-1 &quot;list&quot;
</code></pre><p><figure>   <img src="/img/screenshots/help-blacklist.png" alt="help" />   <figcaption><code>!help</code> on a Yetibot with a blacklist disabling <code>echo</code> and <code>list</code></figcaption> </figure></p><h2 id="foundational&#95;commands">Foundational commands</h2><p>We intentionally excluded <a href='https://github.com/yetibot/yetibot.core/blob/4a32ee3ea46c0aa1f5bb5ffe85057b9323ebc3ed/src/yetibot/core/util/command.clj#L40-L46'>a few commands</a> from whitelists and blacklists as they are foundational or could be considered meta commands:</p><ol><li><code>help</code> - meta command that lets users know which commands are available, and   how each command works.</li><li><code>alias</code> - aliases are all about composing or parameterizing other commands.</li><li><code>channel</code> - command for working with channel-specific settings.</li><li><code>category</code> - meta command for working with available commands according to   their category.</li></ol><h2 id="customized&#95;fallback&#95;command">Customized fallback command</h2><p>Related to curating the set of available commands, we can also configure the fallback command (i.e. what happens when a user tries to run a command that doesn't exist). This example sets it to an alias:</p><pre><code class="clojure">:yetibot-default-command &quot;custom&quot;
</code></pre><p><figure>   <img src="/img/screenshots/help-custom.png" alt="help" />   <figcaption><code>!help</code> on a Yetibot with fallback set to a <code>custom</code> alias</figcaption> </figure></p><h2 id="customized&#95;fallback&#95;help&#95;docs">Customized fallback help docs</h2><p>In the previous section, notice the output of <code>!help</code> includes:</p><blockquote><p> âœ… Fallback commands are enabled, and the default command is <code>custom</code>. This is  triggered when a user enters a command that does not exist, and passes  whatever the user entered as args to the fallback command. </p></blockquote><p>This is the default snippet of help text for fallback commands, but this too is overridable:</p><pre><code class="clojure">:yetibot-command-fallback-help-text &quot;Welcome to Yetibot ðŸ‘‹&quot;
</code></pre><p><figure>   <img src="/img/screenshots/help-custom-fallback.png" alt="help" />   <figcaption><code>!help</code> on a Yetibot with custom fallback help text</figcaption> </figure></p>
      </div>

      <div class="column toc">
        <ol class="content"><li><a href="#configuration">Configuration</a></li><li><a href="#foundational_commands">Foundational commands</a></li><li><a href="#customized_fallback_command">Customized fallback command</a></li><li><a href="#customized_fallback_help_docs">Customized fallback help docs</a></li></ol>
      </div>

    </div>
    
    <div id="post-tags">
      
        <a href="/tags/ops">
          <span class="tag is-medium is-dark">
              ops
          </span>
        </a>
      
        <a href="/tags/guide">
          <span class="tag is-medium is-dark">
              guide
          </span>
        </a>
      
        <a href="/tags/2020">
          <span class="tag is-medium is-dark">
              2020
          </span>
        </a>
      
    </div>
    
  </div>
</div>


  <section class="section content">
    <div class="container">
      <div id="prev-next">

        

        
        <a class="button is-warning is-medium"
          class="right" href="/blog/2020-04-27-guide-jira-basics">
          Guide: Jira Basics â† 
        </a>
        

      </div>
    </div>
  </section>

  

  <section id="disqus" class="section container">
    <div class="column is-two-thirds">
      <div id="disqus_thread"></div>
    </div>
    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = "https://yetibot.com/blog/2020-06-03-guide-blacklists-and-whitelists";
        this.page.identifier = "Guide: Blacklists and Whitelists";
      };
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//yetibot.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  </section>
  

</div>



    </div>

    <footer class="footer">
      <div class="content has-text-centered">
        <p>
          <strong>Yetibot</strong> by <a href="https://devth.com">Trevor
            Hartman</a> & <a href="/community#core_team">contributors</a>.
          <br />
          Distributed under the
          <a href="https://opensource.org/licenses/eclipse-1.0.php">
            Eclipse Public License 1.0</a>.
          <br />
          Artwork by
          <a href="http://www.freeformdesign.co/">Freeform Design Co.</a>
          in <strong>Montana</strong>.
          <br />

          This site is continously delivered from
          <a href="https://github.com/yetibot/yetibot.github.io">
             source</a>.
        </p>
        <a onClick="window.scroll({top: 0, left: 0, behavior: 'smooth'});
          history.replaceState({}, '', window.location.pathname);">
          <img class="logo" src="/img/yetibot_logo.svg" />
        </a>
      </div>
    </footer>

    <script src="/js/dist.js?q=0209202083443" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="/js/highlight.pack.js" type="text/javascript"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

