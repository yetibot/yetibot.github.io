<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Yetibot: First class plugins are here!</title>
    <link rel="canonical" href="https://yetibot.com/blog/2020-10-24-first-class-plugins-are-here">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/css/main.css" rel="stylesheet" type="text/css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/img/favicon/favicon.ico">

    
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yetibot.com/blog/2020-10-24-first-class-plugins-are-here" />
    <meta property="og:title" content="Yetibot: First class plugins are here!" />
    <meta property="og:description"
      content="Yeitbot is a powerful, expressive chatops platform written in Clojure." />
    <meta property="og:image"
      content="https://yetibot.com/img/yetibot_logo.svg"
    />
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:domain" value="yetibot.com" />
    <meta name="twitter:title" value="Yetibot: First class plugins are here!" />
    <meta name="twitter:description"
      value="Yeitbot is a powerful, expressive chatops platform written in Clojure."
    />
    <meta name="twitter:image"
      content="https://yetibot.com/img/yetibot_logo.svg"
    />
    <meta name="twitter:url" value="https://yetibot.com/blog/2020-10-24-first-class-plugins-are-here" />
    
      <meta name="twitter:creator" value="@devth" />
    
    
    <meta name="twitter:label1" value="Date" />
    <meta name="twitter:data1" value="October 24, 2020" />
    <meta name="twitter:label2" value="Tags" />
    <meta name="twitter:data2"
      value="core 2020 "
    />
    

    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117101667-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-117101667-1');
    </script>
  </head>
  <body class="home">


    <div class="main-content">
      <nav class="navbar is-black" role="navigation" aria-label="main navigation">
        <div class="container">
          <div class="navbar-brand">
            <a class="navbar-item" href="/">
              <img class="nav-logo" src="/img/yetibot_lambda_blue_with_grey.svg"
                                    alt="Yetibot: A powerful, expressive chatops platform written in Clojure."
                                    />
            </a>

            <div class="navbar-burger" data-target="nav-menu">
              <span></span>
              <span></span>
              <span></span>
            </div>

          </div>
          <div class="navbar-menu" id="nav-menu">
            <div class="navbar-start">

              
              <a href="/user-guide"
                class="navbar-item is-tab
                ">
                User Guide
              </a>
              
              <a href="/dev-guide"
                class="navbar-item is-tab
                ">
                Dev Guide
              </a>
              
              <a href="/ops-guide"
                class="navbar-item is-tab
                ">
                Ops Guide
              </a>
              
              <a href="/community"
                class="navbar-item is-tab
                ">
                Community
              </a>
              
              <a href="/media"
                class="navbar-item is-tab
                ">
                Media
              </a>
              

              <a class="navbar-item is-tab
                " href="/archives">
                Blog
              </a>
            </div>
            <div class="navbar-end">

              <a href="https://twitter.com/yetibot_chatops"
                 title="Yetibot on Twitter"
                 class="navbar-item">
                <span class="icon">
                  <i class="fab fa-twitter"></i>
                </span>
              </a>
              <a href="https://github.com/yetibot/yetibot"
                 title="Yetibot on GitHub"
                 class="navbar-item">
                <span class="icon">
                  <i class="fab fa-github"></i>
                </span>
              </a>
              <a class="navbar-item"
                 title="Yetibot Slack"
                 href="https://slack.yetibot.com">
                <span class="icon">
                  <i class="fab fa-slack"></i>
                </span>
              </a>

            </div>
          </div>
        </div>
      </nav>

      

<div id="post">
  <article class="page-title hero is-dark is-bold is-fullwidth">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">First class plugins are here!</h1>
      <p class="subtitle">
        October 24, 2020
        
          <span>by
            <a href="/authors/@devth">@devth</a>
          </span>
        
      </p>
    </div>
  </div>
</article>

<section class="section content">
  <div class="container">

    <div class="main main-content columns">
      <div class="column is-two-thirds">
        <p>Since nearly the beginning of its existence, Yetibot has supported the notion of plugins by simply loading namespaces that looked like commands, e.g. <code>mycompany.plugins.commands.mycommand</code>, but it was up to the user to get the plugin JAR on the classpath or source file included in the local source tree.</p><p>This was never ideal, for a few reasons:</p><ul><li>It meant the user needed to manage all the ops for their custom Yetibot,  including building (JARs or Docker images) or figuring out a way to deploy  from a source tree since the official JAR and Docker image were already baked.</li><li>The inconvenience prevented us from embracing a plugin ecosystem, instead  baking everything into either <a href='https://github.com/yetibot/yetibot'>yetibot</a>  or <a href='https://github.com/yetibot/core'>yetibot/core</a>.</li></ul><h2 id="usage">Usage</h2><p>Configure the plugins you want to use, and Yetibot will resolve and load them on start up:</p><pre><code class="clojure">{:yetibot
 {:plugins
   {:kroki
     {:artifact &quot;yetibot/kroki&quot;
      :version &quot;20201022.003832.0ae5bf7&quot;}}}}
</code></pre><p>Beware that specifying a large number of plugins will increase Yetibot's start up time. This is the trade off between static (baking artifacts into an uberjar or Docker image) and dynamic (loading at runtime on startup).</p><h2 id="release&#95;automation">Release automation</h2><p>Yetibot's official plugins (those under the <a href='https://github.com/yetibot'>Yetibot GitHub Org</a>) are ultra simple to create and release because of the surrounding automation we constructed:</p><ol><li><a href='https://github.com/yetibot/parent'>yetibot/parent</a> uses   <a href='https://github.com/achin/lein-parent'>lein-parent</a> to specify common   configuration across all Yetibot plugins (see   <a href='https://github.com/yetibot/yetibot-github/blob/499bc7e902658fdb2461f166af9a6a94a75bd4cb/project.clj#L6-L13'>yetibot-github's <code>project.clj</code></a>   for an example of what this looks like).</li><li>A new Leiningen plugin called   <a href='https://github.com/devth/lein-inferv'>lein-inferv</a> allows us to infer   versions rather than specify them in code, which allows us to avoid commit   automation and noise to bump and snapshot versions. We already practiced this   in <a href='https://github.com/yetibot/core'>yetibot/core</a> using   <a href='https://github.com/arrdem/lein-git-version'>lein-git-version</a> but the new   plugin fully encodes our derived version schema and requires zero   configuration.</li><li><a href='https://github.com/yetibot/.github/blob/main/workflow-templates/release.yml'>GitHub Organization workflows</a>   let us define how to release plugins in a single place that all future   plugins can consume.</li></ol><h2 id="how&#95;to&#95;contribute&#95;a&#95;new&#95;module">How to contribute a new module</h2><p>If you have an idea for a module and think it should belong under the Yetibot org as an official plugin, feel free to suggest it in the <a href='https://slack.yetibot.com'>#dev channel on Yetibot Slack</a>.</p><p>Otherwise, anyone can build a module wherever they like, release it to an artifact repository and consume it via configuration.</p><h2 id="<a href='https://www.youtube.com/watch?v=MX0D4oZwCsA'>What does it all mean?</a>"><a href='https://www.youtube.com/watch?v=MX0D4oZwCsA'>What does it all mean?</a></h2><p>Now that plugins are easy to build, release, and consume, we will move toward much smaller logically separated code bases. Over time we'll extract commands from <code>yetibot</code> and <code>yetibot/core</code> in to separate plugins. This will make features easier to work with, test in isolation, and release.</p><p><a href='https://github.com/yetibot/yetibot.core/pull/153'>Here's the PR that enabled plugins</a>. The change itself was quite small.</p><p>Check out the new <a href='/dev-guide#dynamic_plugins'>Dynamic plugins docs</a>, and as always please give us feedback by leaving a comment below, chatting with us in <a href='https://slack.yetibot.com'>Slack</a>, or opening a GitHub issue.</p>
      </div>

      <div class="column toc">
        <ol class="content"><li><a href="#usage">Usage</a></li><li><a href="#release_automation">Release automation</a></li><li><a href="#how_to_contribute_a_new_module">How to contribute a new module</a></li><li><a href="#&lt;a href=&apos;https://www.youtube.com/watch?v=MX0D4oZwCsA&apos;&gt;What does it all mean?&lt;/a&gt;"><a href="https://www.youtube.com/watch?v=MX0D4oZwCsA">What does it all mean?</a></a></li></ol>
      </div>

    </div>
    
    <div id="post-tags">
      
        <a href="/tags/core">
          <span class="tag is-medium is-dark">
              core
          </span>
        </a>
      
        <a href="/tags/2020">
          <span class="tag is-medium is-dark">
              2020
          </span>
        </a>
      
    </div>
    
  </div>
</div>


  <section class="section content">
    <div class="container">
      <div id="prev-next">

        

        
        <a class="button is-warning is-medium"
          class="right" href="/blog/2020-06-03-guide-blacklists-and-whitelists">
          Guide: Blacklists and Whitelists â† 
        </a>
        

      </div>
    </div>
  </section>

  

  <section id="disqus" class="section container">
    <div class="column is-two-thirds">
      <div id="disqus_thread"></div>
    </div>
    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = "https://yetibot.com/blog/2020-10-24-first-class-plugins-are-here";
        this.page.identifier = "First class plugins are here!";
      };
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//yetibot.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  </section>
  

</div>



    </div>

    <footer class="footer">
      <div class="content has-text-centered">
        <p>
          <strong>Yetibot</strong> by <a href="https://devth.com">Trevor
            Hartman</a> & <a href="/community#core_team">contributors</a>.
          <br />
          Distributed under the
          <a href="https://opensource.org/licenses/eclipse-1.0.php">
            Eclipse Public License 1.0</a>.
          <br />
          Artwork by
          <a href="http://www.freeformdesign.co/">Freeform Design Co.</a>
          in <strong>Montana</strong>.
          <br />

          This site is continously delivered from
          <a href="https://github.com/yetibot/yetibot.github.io">
             source</a>.
        </p>
        <a onClick="window.scroll({top: 0, left: 0, behavior: 'smooth'});
          history.replaceState({}, '', window.location.pathname);">
          <img class="logo" src="/img/yetibot_logo.svg" />
        </a>
      </div>
    </footer>

    <script src="/js/dist.js?q=1606202111428" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="/js/highlight.pack.js" type="text/javascript"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

